
$('.helper-text').remove();
$('input').removeClass('invalid')
$('input').addClass('valid')

<% @event_registration.errors.each do |key, val| %>

  var $errorField = $('#event_' + '<%= j(key) %>');

  $errorField.after('<span class="helper-text"></span>');

  $errorField
    .next('.helper-text')
    .attr(
      'data-error', 
      "<%= escape_javascript(@event_registration.errors[key][0].html_safe) %>"
    );

  $errorField.is('select') ?
    $errorField.siblings('input').addClass('invalid') :
    $errorField.addClass('invalid')

<% end %>

